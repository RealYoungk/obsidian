---
tags:
  - 설정가이드
  - 주가스냅샷
---

# 📊 주가 스냅샷 자동화 설정 가이드

## 🔌 필요한 플러그인

1. **Shell commands** - 터미널 명령어 실행
2. **Templater** - 스크립트 템플릿 실행
3. **QuickAdd** (선택) - 매크로 실행
4. **Commander** (선택) - 리본 메뉴/단축키 설정

## 📝 설정 방법

### 방법 1: Shell commands 플러그인 (권장)

1. **플러그인 설치**
   - 설정 → 커뮤니티 플러그인 → "Shell commands" 검색 → 설치 및 활성화

2. **명령어 추가**
   - Shell commands 설정 → "New command" 클릭
   - **정확히 다음과 같이 입력:**
   
   ```
   Command name: 📊 주가 스냅샷 생성
   Shell command: /Users/realyoungk/run-stock-snapshot.sh
   ```
   
   ⚠️ **중요**: 
   - 다른 옵션은 건드리지 마세요
   - Shell을 별도로 지정하지 마세요
   - 그냥 위 경로만 입력하면 됩니다

3. **실행 방법**
   - 명령 팔레트 (Cmd+P) → "Shell commands: 📊 주가 스냅샷 생성" 실행
   - 또는 단축키 설정: 설정 → 단축키 → "Shell commands: 📊 주가 스냅샷 생성" 검색

### 방법 2: Templater 플러그인

1. **플러그인 설치**
   - 설정 → 커뮤니티 플러그인 → "Templater" 검색 → 설치 및 활성화

2. **Templater 설정**
   - Template folder location: `templates`
   - Enable System Command User Functions: ON
   - Trigger Templater on new file creation: ON

3. **실행 방법**
   - 명령 팔레트 → "Templater: Create new note from template"
   - "주가스냅샷_실행" 템플릿 선택

### 방법 3: QuickAdd 플러그인

1. **플러그인 설치**
   - 설정 → 커뮤니티 플러그인 → "QuickAdd" 검색 → 설치 및 활성화

2. **매크로 추가**
   - QuickAdd 설정 → "Manage Macros" → "Create Macro"
   - Name: "주가 스냅샷 생성"
   - Add User Script: `/scripts/quickadd-macro.js` 선택

3. **실행 방법**
   - 명령 팔레트 → "QuickAdd: 주가 스냅샷 생성"

## ⏰ 자동 실행 설정

### Templater Startup Templates (매일 옵시디언 시작 시)

1. Templater 설정 → "Startup Templates"
2. Add new: `templates/주가스냅샷_실행.md`
3. 옵시디언을 시작할 때마다 자동 실행됨

### 시간 기반 자동화 (제한적)

옵시디언 플러그인은 정확한 시간 스케줄링이 어려워, 다음 대안 고려:
- 매일 특정 시간에 옵시디언 시작하기
- Dataview 대시보드에서 "마지막 업데이트" 확인 후 수동 실행

## 🎯 단축키 설정

1. 설정 → 단축키
2. "Shell commands: 📊 주가 스냅샷 생성" 검색
3. 원하는 단축키 설정 (예: Cmd+Shift+S)

## 🔧 문제 해결

### ⚠️ "zsh:3: unmatched '" 오류
이 오류는 경로에 특수문자(apostrophe)가 있어서 발생합니다.
**해결**: 홈 디렉토리의 스크립트를 사용하세요 → `/Users/realyoungk/run-stock-snapshot.sh`

### "command not found" 오류
```bash
# 터미널에서 확인
ls -la /Users/realyoungk/run-stock-snapshot.sh
# 파일이 없으면 다시 복사
cp "/Users/realyoungk/Library/Mobile Documents/com~apple~CloudDocs/obsidian/realyoungk's volt/run-stock-snapshot.sh" /Users/realyoungk/
chmod +x /Users/realyoungk/run-stock-snapshot.sh
```

### npm 패키지 미설치
```bash
cd "/Users/realyoungk/Library/Mobile Documents/com~apple~CloudDocs/obsidian/realyoungk's volt/scripts"
npm install
```

### 테스트 실행
터미널에서 직접 테스트:
```bash
/Users/realyoungk/run-stock-snapshot.sh
```

## 📊 사용법

1. **수동 실행**: 명령 팔레트 또는 단축키
2. **결과 확인**: `0. 대시보드/주가스냅샷` 폴더
3. **대시보드**: [[주가 대시보드]] 에서 Dataview로 확인

## 💡 팁

- 매일 오전 9시경 한 번 실행 권장
- 주말/공휴일엔 전일 종가 기준
- 여러 번 실행해도 새 파일로 저장됨
- 오래된 스냅샷은 수동으로 정리